KISA(한국인터넷진흥원)의 주요정보통신기반시설 기술적 취약점 분석·평가 가이드에 있는 **W-26 (W26ConfigureFTPDirectoryAccessPermissions)** 항목은 **"FTP 디렉터리 접근 권한 설정"**을 의미합니다.

한마디로 요약하면 **"FTP 서버의 파일이 저장된 폴더를, 아무나(Everyone) 마음대로 쓰거나 지우지 못하게 윈도우 파일 권한(ACL)을 꽉 잠가라"**는 뜻입니다.

상세한 의미와 보안 위험성, 조치 방법은 다음과 같습니다.

---

### 1. 핵심 의미: "공용 창고의 열쇠 관리"

FTP(File Transfer Protocol)는 파일을 주고받기 위한 서버입니다. 이 FTP 서비스가 바라보고 있는 실제 하드디스크 상의 폴더(FTP Root Directory)가 있습니다.

* **취약한 상태 (Everyone Full Control):**
* 윈도우의 **`Everyone` (모든 사용자)** 그룹에 **'쓰기(Write)'** 또는 **'모든 권한(Full Control)'**이 부여된 상태입니다.
* 로그인한 사용자라면 누구든지(심지어 익명 사용자라도) 이 폴더에 파일을 올리거나, 기존 파일을 지워버릴 수 있습니다.


* **안전한 상태 (Restricted):**
* **관리자(Administrators)**와 **시스템(SYSTEM)** 계정만 모든 권한을 가집니다.
* 일반 FTP 사용자에게는 꼭 필요한 권한(읽기 등)만 최소한으로 부여합니다.



### 2. 점검 목적 (Why?)

"FTP는 원래 파일 올리려고 쓰는 거 아닌가요?"

맞습니다. 하지만 **"누가"** 올리느냐가 중요합니다. `Everyone`에게 권한을 주는 것은 **"인증받지 않은 사람을 포함해 전 세계 누구에게나"** 권한을 주는 것과 같습니다.

1. **악성코드 유포지 악용 (Warez/Malware):**
* 해커가 FTP 서버에 악성코드(`virus.exe`)나 불법 저작물(영화, 유틸리티)을 업로드하여, 우리 서버를 **파일 배포 기지**로 악용할 수 있습니다.


2. **시스템 변조 및 파괴:**
* 중요한 설정 파일을 덮어쓰거나, 모든 파일을 삭제하여 서비스를 마비시킬 수 있습니다.


3. **실행 파일 업로드 공격:**
* 해커가 웹 쉘(Web Shell) 같은 악성 스크립트를 FTP로 업로드한 뒤, 웹 브라우저로 실행하여 서버 전체를 장악할 수 있습니다.



### 3. 점검 기준 (Pass/Fail)

KISA 가이드라인에 따른 판단 기준은 다음과 같습니다.

* **양호 (Safe):**
* FTP 루트 디렉터리에 **`Everyone`** 그룹의 권한이 없거나, 있더라도 **'쓰기'** 권한이 제거된 경우


* **취약 (Vulnerable):**
* **`Everyone`** 그룹에 **'모든 권한'** 또는 **'쓰기'** 권한이 부여된 경우



### 4. 설정 확인 및 조치 방법 (윈도우 탐색기)

이 설정은 IIS 관리자가 아닌, 실제 폴더의 **파일 탐색기 속성**에서 제어해야 합니다.

1. **폴더 찾기:** FTP 사이트가 사용 중인 실제 경로(예: `C:\inetpub\ftproot`)로 이동합니다.
2. **속성 열기:** 폴더 우클릭 > **[속성(Properties)]** 선택
3. **보안 탭 이동:** 상단의 **[보안(Security)]** 탭 클릭
4. **권한 확인:**
* **그룹 또는 사용자 이름** 목록에 `Everyone`이 있는지 확인합니다.
* 있다면, 아래쪽 **사용 권한**에서 '쓰기(Write)'나 '모든 권한'에 체크가 되어 있는지 확인합니다.


5. **조치 (권한 제거):**
* **[편집(Edit)]** 버튼 클릭
* `Everyone` 그룹을 선택하고 **[제거(Remove)]**하거나, '쓰기' 항목의 체크를 해제합니다.
* *(실제 FTP 사용을 위해 특정 사용자 계정(예: `ftpuser`)을 추가하고 그 계정에만 권한을 주는 것이 정석입니다.)*



### 💡 주의사항: W-25 (익명 FTP)와의 관계

이 항목(W-26)은 보통 **W-25 (익명 FTP 접속 허용)** 항목과 짝을 이룹니다.

* **최악의 시나리오:**
1. **W-25 취약:** 익명(Anonymous) 접속이 허용됨.
2. **W-26 취약:** 폴더 권한에 `Everyone` 쓰기 권한이 있음.


*  **결과:** 지나가던 아무나 로그인 없이 들어와서 악성코드를 심고 나갈 수 있습니다.



### 요약

> **W-26 항목은 "FTP 폴더를 '공용 쓰레기통'으로 만들지 마라"는 뜻입니다.**

아무나 파일을 쓸 수 있게 열어두면, 100% 확률로 해커들의 악성코드 저장소로 전락하게 됩니다. 반드시 **`Everyone` 그룹의 쓰기 권한**을 제거해야 합니다.

혹시 **W-25 (FTP 익명 접속)**이나 **W-27 (FTP 접근 제어)** 같은 다른 FTP 관련 보안 설정도 궁금하신가요?