KISA(한국인터넷진흥원)의 주요정보통신기반시설 기술적 취약점 분석·평가 가이드에 있는 **W-59 (W59HideIISWebServiceInformation)** 항목은 **"IIS 웹 서비스 정보 숨김"**을 의미합니다.

한마디로 요약하면 **"해커에게 우리 서버가 '마이크로소프트 IIS 몇 버전'을 쓰고 있는지 친절하게 알려주지 마라"**는 뜻입니다.

상세한 의미와 왜 숨겨야 하는지, 어떻게 설정하는지 설명해 드리겠습니다.

---

### 1. 핵심 의미: "명찰 떼기"

웹 브라우저가 서버에 페이지를 요청하면, 서버는 응답과 함께 **HTTP 헤더(Header)**라는 꼬리표를 붙여서 보냅니다.
기본 설정 상태의 IIS는 이 꼬리표에 자신의 **정체(이름과 버전)**를 그대로 적어서 보냅니다.

* **취약한 상태 (정보 노출):**
* **Server:** `Microsoft-IIS/10.0` (나 IIS 10.0 버전이야!)
* **X-Powered-By:** `ASP.NET` (나 ASP.NET 기술 쓰고 있어!)
* 해커는 이 정보를 보고 "아, 이 서버는 IIS 10.0이구나. 그럼 IIS 10.0에 통하는 해킹 툴을 가져와야지"라고 판단합니다.


* **안전한 상태 (정보 숨김):**
* 헤더에 **Server** 항목이 아예 없거나, 정보가 엉뚱한 값(예: `MyServer`)으로 변경되어 있습니다.
* **X-Powered-By** 헤더가 삭제되어 있습니다.



### 2. 점검 목적 (Why?)

"버전 좀 알려주는 게 왜 위험한가요?"

보안에는 **'공격 표면 축소(Attack Surface Reduction)'**라는 원칙이 있습니다. 정보가 없으면 공격하기도 어렵다는 뜻입니다.

1. **맞춤형 공격(Exploit) 방지:**
* 특정 버전(예: IIS 7.5)에만 존재하는 치명적인 취약점이 발견되었을 때, 해커들은 자동화 도구(스캐너)를 돌려 "IIS 7.5"라고 응답하는 서버만 골라서 공격합니다. 버전을 숨기면 이런 스캔 공격을 피할 확률이 높아집니다.


2. **공격 난이도 상승:**
* 해커가 서버의 종류(Apache인지, Nginx인지, IIS인지)조차 모르게 하면, 공격 성공률이 떨어지고 시간이 오래 걸리게 되어 포기할 가능성이 커집니다.



### 3. 점검 기준 (Pass/Fail)

KISA 가이드라인에 따른 판단 기준은 다음과 같습니다.

* **양호 (Safe):**
* HTTP 응답 헤더에 `Server`, `X-Powered-By`, `X-AspNet-Version` 등의 정보가 노출되지 않도록 설정된 경우


* **취약 (Vulnerable):**
* HTTP 응답 헤더에 IIS 버전 및 ASP.NET 버전 정보가 그대로 노출되는 경우



### 4. 설정 확인 및 조치 방법

주로 두 가지 헤더를 지워야 합니다.

#### A. `X-Powered-By` 헤더 삭제 (IIS 관리자)

이 헤더는 "이 사이트는 ASP.NET으로 돌아갑니다"라고 광고하는 헤더입니다.

1. **IIS 관리자 실행:** `inetmgr` 입력
2. **사이트 선택:** 설정할 웹 사이트 클릭
3. **HTTP 응답 헤더(HTTP Response Headers) 더블 클릭:**
* 중앙의 기능 보기 화면에 있습니다.


4. **조치:**
* 목록에 `X-Powered-By`가 있다면 선택하고 우측의 **[제거(Remove)]**를 클릭합니다.



#### B. `Server` 헤더 삭제/변경 (web.config 또는 URL Rewrite)

이 헤더는 "나는 IIS입니다"라고 말하는 헤더입니다. 지우는 방법이 버전마다 다릅니다.

* **방법 1: web.config 수정 (IIS 10.0 이상 권장)**
* `web.config` 파일의 `<system.webServer>` 섹션 안에 다음 설정을 추가합니다.


```xml
<security>
  <requestFiltering removeServerHeader="true" />
</security>

```


* 이렇게 하면 `Server` 헤더가 아예 사라집니다.


* **방법 2: URL Rewrite 모듈 사용 (모든 버전)**
* 마이크로소프트의 **URL Rewrite** 확장 기능을 설치해야 합니다.
* 아웃바운드 규칙(Outbound Rule)을 만들어 `Server` 헤더의 값을 공란이나 다른 문자로 바꿔치기(Rewrite)합니다.



### 💡 주의사항: 오류 페이지도 확인!

헤더뿐만 아니라 **403(접근 금지), 404(페이지 없음), 500(서버 오류)** 같은 에러 페이지 하단에도 "Microsoft-IIS/10.0" 같은 문구가 찍혀 나옵니다.

* **조치:** IIS 설정에서 **"사용자 지정 오류 페이지(Custom Error Pages)"** 기능을 사용하여, 기본 에러 화면 대신 개발자가 만든 깔끔한 안내 페이지만 보여주도록 설정해야 완벽하게 정보를 숨길 수 있습니다.

### 요약

> **W-59 항목은 "서버가 자기 신상정보(이름, 버전)를 남들에게 떠벌리고 다니지 못하게 입을 막아라"는 뜻입니다.**

이 설정을 적용하면 해커가 우리 서버를 분석하는 데 드는 비용과 시간을 늘리는 효과가 있습니다.