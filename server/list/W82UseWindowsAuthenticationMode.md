KISA(한국인터넷진흥원)의 취약점 분석·평가 가이드에서 **W-82 (W82UseWindowsAuthenticationMode)** 항목은 주로 **MS SQL Server (데이터베이스)** 보안 설정과 관련된 항목입니다.

한마디로 요약하면 **"데이터베이스에 로그인할 때, 별도의 DB 전용 아이디(sa 등)를 만들어서 쓰지 말고, 윈도우(OS) 아이디를 그대로 사용하라"**는 뜻입니다.

상세한 의미와 보안상 중요한 이유는 다음과 같습니다.

---

### 1. 핵심 의미: 두 가지 인증 방식의 차이

MS SQL Server는 두 가지 로그인 방식을 제공합니다. 이 중에서 **1번 방식만 사용**하라는 것이 이 항목의 핵심입니다.

1. **Windows 인증 모드 (권장 - 양호):**
* 윈도우에 로그인한 사용자 정보(Active Directory 또는 로컬 계정)를 그대로 신뢰하여 DB에 접속합니다.
* 별도의 DB 비밀번호를 입력할 필요가 없습니다. (통합 인증)


2. **혼합 모드 (Windows 인증 + SQL Server 인증) (취약 - 점검 대상):**
* 윈도우 아이디로도 들어갈 수 있고, **DB 전용 아이디(예: `sa`)와 비밀번호**로도 들어갈 수 있습니다.
* 많은 개발자가 편의상 이 방식을 선호하지만 보안상 취약점이 많습니다.



### 2. 점검 목적 (Why?)

왜 "SQL Server 인증(혼합 모드)"을 쓰지 말라고 할까요? 가장 큰 이유는 **`sa` (System Administrator) 계정** 때문입니다.

1. **취약한 `sa` 계정 관리:**
* 혼합 모드를 켜면 슈퍼 관리자 계정인 `sa`가 활성화됩니다.
* 해커들은 전 세계의 모든 SQL 서버에 `sa`라는 아이디가 있다는 것을 알고 있습니다. 따라서 `sa` 아이디에 대해 무차별 대입 공격(Brute Force)을 집중적으로 시도합니다.


2. **비밀번호 정책 미흡:**
* 윈도우 계정은 복잡도, 변경 주기, 잠금 정책 등이 OS 차원에서 강제로 적용됩니다.
* 반면, SQL 전용 계정은 관리자가 신경 쓰지 않으면 '1234' 같은 쉬운 비밀번호를 설정하거나, 몇 년 동안 비밀번호를 안 바꿔도 방치되는 경우가 많습니다.


3. **소스코드 내 정보 노출:**
* SQL 인증을 쓰면 웹 애플리케이션 소스코드(Connection String)에 `ID=sa; Password=P@ssword` 같은 형태로 비밀번호가 평문으로 박혀 있는 경우가 많아 유출 위험이 큽니다.



### 3. 점검 기준 (Pass/Fail)

* **양호 (Safe):** 인증 모드가 **"Windows 인증 모드(Windows Authentication Mode)"**로 설정된 경우
* **취약 (Vulnerable):** 인증 모드가 **"혼합 모드(Mixed Mode)"**로 설정된 경우

### 4. 설정 확인 및 조치 방법 (MS SQL Server 기준)

SQL Server Management Studio (SSMS) 도구를 통해 확인할 수 있습니다.

1. **SSMS 접속:** DB 관리 도구로 서버에 접속합니다.
2. **속성 확인:**
* 서버 이름(최상위 노드)에서 마우스 우클릭 > **[속성(Properties)]** 클릭


3. **보안 탭 이동:**
* 왼쪽 메뉴에서 **[보안(Security)]** 선택


4. **서버 인증(Server authentication) 확인:**
* **"Windows 인증 모드(Windows Authentication mode)"**가 선택되어 있으면 양호.
* **"SQL Server 및 Windows 인증 모드(SQL Server and Windows Authentication mode)"**가 선택되어 있으면 취약.



### 💡 주의사항: 함부로 바꾸면 장애 발생!

이 항목은 **점검 후 무조건 바로 바꾸면 안 되는 위험한 항목** 중 하나입니다.

* **레거시 애플리케이션:** 만약 회사에서 쓰는 웹사이트나 프로그램이 DB에 접속할 때 `sa`나 특정 DB 아이디를 사용하도록 만들어져 있다면?
*  이 설정을 "Windows 인증 모드"로 바꾸는 순간, **프로그램이 DB에 접속하지 못해 서비스 장애(먹통)**가 발생합니다.


* **조치 방법:**
1. 애플리케이션이 Windows 인증을 지원하도록 소스코드를 수정하거나 IIS 설정을 변경해야 합니다.
2. 만약 수정이 불가능하여 부득이하게 **'혼합 모드'를 계속 써야 한다면**, `sa` 계정의 비밀번호를 아주 복잡하게 설정하고, `sa` 계정의 이름을 바꾸거나 비활성화한 뒤 다른 대체 관리자 아이디를 사용하는 등의 **보완 조치**를 마련해야 합니다.



### 요약

> **W-82 항목은 "DB 접속 시, 보안이 약한 '자체 아이디' 쓰지 말고 튼튼한 '윈도우 아이디'로 통일하라"는 뜻입니다.**

하지만 현재 운영 중인 서비스가 DB 아이디를 사용 중이라면, **개발팀과 협의 없이 변경하면 절대 안 됩니다.**